# Task specifications

## Task Spec

JSON formattable. Information specified by the developer.


## Scheduler Spec

JSON formatted information that specifies when and how the task is executed.

Generated by the task reader. (Or by hand by the developer).

- Operational parameters
    - Parameters necessary for scheduling a task
    - required:
        - task id: string
            - An identifier for the task, used to store and retrieve information and for dependencies.
        - time limit: integer or time units
            - Upper limit for the tasks runtime in seconds or provided unit
    - optional:
        - required_filepath: string, multiple
            - list of files required for the task
        - required_folder: string, multiple
            - folder that must contain a file
        - required_file_expression: string, multiple
            - regular expression that must match a file
        - single_file_task: bool, default False
            - Run a separate task for each file in required_folder or matching required_file_expression
        - filepath_parameter: string, multiple
            - parameter name for passing a dynamically determined file name to the task
- Engine parameters
    - Parameters necessary for running a task
    - required:
        - execution parameter


### Execution parameter
Multiple options:
1. Executable
    - required:
        - Executable: str
            - Full path to an executable file.
        - Parameters: dict
            - A dictionary of parameter names and values
    - optional:
        - Parameter mapping 
3. 


## Task specification (required for scheduling and execution)

- resources:
    - always:
        - task function name, file name, executable (see below)
        - task id
        - cpu
        - time
        - memory
    - optional:
        - interrupt allowed (default to True)
    - other resources: the resource tracker needs to know about these or the job does not execute
        - network bandwidth
        - gpu
        - list of filenames
        - files in directory, minimum number
        - files in shared memory
        - parameter available
-  dependencies:
    - list of task IDs


### Information required to serialize and 



## Constraints

Option 1: Tasks need to be written as Python functions. To run, we import the file and execute the task. Or we execute a script that does that.

Option 2: Tasks need to be Python scripts. We simply run the file. Could be more complicated with decorators.

Option 3: Serialize the Python function. Limited to standard Python functions, but does not depend on the environment.


